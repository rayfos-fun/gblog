---
layout: post
title: 從 1 到 1000：二分搜尋法揭秘，為什麼你只需 10 次就能猜中任何數字？
lang: zh-tw
permalink: /zh-tw/post/20250807/
---
# 猜數字遊戲規則：猜大猜小

這款猜數字遊戲的規則很簡單：電腦會在 1 到 1000 之間隨機選一個數字，玩家需要做的，就是想辦法猜到這個數字。每次玩家猜完後，電腦會提示所猜的數字是太大還是太小。玩家的目標是要在最少的次數內猜中正確的數字。

# 二分搜尋法與遊戲背後的邏輯

你可能會好奇，為什麼要在網站上放這麼一個簡單的遊戲？除了讓大家消磨時間之外，它背後其實隱藏著一個重要的電腦科學概念——二分搜尋法 (binary search)。

二分搜尋法是一種非常高效的演算法，它的核心思想是「每次都把搜尋範圍縮小一半」。舉個例子，如果數字範圍是 1 到 1000，你第一次猜 500。如果我告訴你「太大」，你就知道正確答案在 1 到 499 之間；如果我說「太小」，那數字就在 501 到 1000 之間。無論如何，你都將搜尋的範圍縮小了一半。

若你從 1 開始依序猜，需要大約 500 次才能猜中，運氣不好甚至要猜1000次。但如果運用二分搜尋法的邏輯，每次都猜範圍的中間值，即使猜錯也能排除掉一半的可能性。因此，你最多只需要 10 次就能猜中任何數字，因為 2<sup>10</sup>=1024，已經大於 1000 了。

雖說最差的情況下，只需要猜滿 10 次，但有趣的是，在大多數情況下，運氣都是「最差」的。如果你玩 1000 次，會發現大約有 500 次遊戲需要猜滿 10 次；250 次遊戲需要猜 9 次；125 次遊戲需要猜 8 次，依此類推。數學上計算，平均猜中次數大約是 9 次，而不是運氣最好和最壞的中間值 5 次。

# 如何一次猜中？

如果你想作弊，一次就猜中，那也很簡單。你只需要打開瀏覽器的開發人員工具 (developer console)，然後輸入儲存正確數字的變數名稱(secretNumber)。這個方法雖然會讓遊戲失去樂趣，但它展示了網站前端程式碼是如何運作的，也提醒了我們，如果遊戲的重要邏輯放在用戶端，玩家是很容易作弊的。

這個簡單的猜數字遊戲，不僅能讓你打發時間，還能讓你一窺高效演算法的奧秘。下次玩的時候，不妨試著運用二分搜尋法的思維，看看自己能不能挑戰最少的猜測次數！

[遊戲連結]({{ '/zh-tw/game/guess-number/' | relative_url }})