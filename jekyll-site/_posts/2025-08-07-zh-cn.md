---
layout: post
title: 从 1 到 1000：二分搜寻法揭秘，为什麽你只需 10 次就能猜中任何数字？
lang: zh-cn
permalink: /zh-cn/post/20250807/
---
# 猜数字游戏规则：猜大猜小

这款猜数字游戏的规则很简单：电脑会在 1 到 1000 之间随机选一个数字，玩家需要做的，就是想办法猜到这个数字。每次玩家猜完后，电脑会提示所猜的数字是太大还是太小。玩家的目标是要在最少的次数内猜中正确的数字。

# 二分搜寻法与游戏背后的逻辑

你可能会好奇，为什麽要在网站上放这麽一个简单的游戏？除了让大家消磨时间之外，它背后其实隐藏着一个重要的电脑科学概念——二分搜寻法 (binary search)。

二分搜寻法是一种非常高效的演算法，它的核心思想是「每次都把搜寻范围缩小一半」。举个例子，如果数字范围是 1 到 1000，你第一次猜 500。如果我告诉你「太大」，你就知道正确答案在 1 到 499 之间；如果我说「太小」，那数字就在 501 到 1000 之间。无论如何，你都将搜寻的范围缩小了一半。

若你从 1 开始依序猜，需要大约 500 次才能猜中，运气不好甚至要猜1000次。但如果运用二分搜寻法的逻辑，每次都猜范围的中间值，即使猜错也能排除掉一半的可能性。因此，你最多只需要 10 次就能猜中任何数字，因为 2<sup>10</sup>=1024，已经大于 1000 了。

虽说最差的情况下，只需要猜满 10 次，但有趣的是，在大多数情况下，运气都是「最差」的。如果你玩 1000 次，会发现大约有 500 次游戏需要猜满 10 次；250 次游戏需要猜 9 次；125 次游戏需要猜 8 次，依此类推。数学上计算，平均猜中次数大约是 9 次，而不是运气最好和最坏的中间值 5 次。

# 如何一次猜中？

如果你想作弊，一次就猜中，那也很简单。你只需要打开浏览器的开发人员工具 (developer console)，然后输入储存正确数字的变数名称(secretNumber)。这个方法虽然会让游戏失去乐趣，但它展示了网站前端程式码是如何运作的，也提醒了我们，如果游戏的重要逻辑放在用户端，玩家是很容易作弊的。

这个简单的猜数字游戏，不仅能让你打发时间，还能让你一窥高效演算法的奥秘。下次玩的时候，不妨试着运用二分搜寻法的思维，看看自己能不能挑战最少的猜测次数！

[游戏连结]({{ '/zh-cn/game/guess-number/' | relative_url }})